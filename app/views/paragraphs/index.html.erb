<div class="container">
  <h2>Paragraphs in <%= @chapter.name %></h2>

  <%= link_to "New Paragraph", new_subject_chapter_paragraph_path(@chapter.subject, @chapter), class: "btn btn-primary mb-3" %>

  <% if @paragraphs.any? %>
    <div class="row">
      <% @paragraphs.each do |paragraph| %>
        <div class="col-md-4 mb-4">
          <div class="card">
            <div class="card-body">
              <h5 class="card-title"><%= paragraph.title %></h5>
              <p class="card-text"><%= truncate(paragraph.content, length: 100) %></p>
              <div class="d-flex justify-content-between">
                <%= link_to "Show", subject_chapter_paragraph_path(@chapter.subject, @chapter, paragraph), class: "btn btn-info btn-sm" %>
                <%= link_to "Edit", edit_subject_chapter_paragraph_path(@chapter.subject, @chapter, paragraph), class: "btn btn-warning btn-sm" %>
                <%= button_to "Delete", subject_chapter_paragraph_path(@chapter.subject, @chapter, paragraph), method: :delete, class: "btn btn-danger btn-sm" %>
              </div>
            </div>
          </div>
        </div>
      <% end %>
    </div>
  <% else %>
    <p>No paragraphs found. Start by adding a new one!</p>
  <% end %>

  <%= link_to "Back to Chapter", subject_chapters_path(@chapter.subject), class: "btn btn-secondary" %>
</div>